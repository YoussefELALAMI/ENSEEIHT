<h1 id="problème-de-la-voie-unique">Problème de la voie unique</h1>
<h2 id="énoncé">Énoncé</h2>
<p>Deux villes N et S sont reliées par une ligne de chemin de fer qui
comprend un tronçon à voie unique. La contrainte de sûreté est qu’il ne
doit jamais y avoir des trains circulant dans les deux directions
simultanément. Selon la question, nous limiterons en plus la capacité du
tronçon (le nombre de trains présents). Pour s’engager sur le tronçon à
voie unique les processus représentant les trains font appel aux
opérations <code>entrer(sens)</code> et <code>sortir(sens)</code> où
sens appartient à { NS, SN }. Ces opérations bloquent et débloquent les
trains pour assurer l’absence d’accident.</p>
<p>Les trains font la navette entre S et N. Leur comportement peut être
simulé par l’algorithme suivant :</p>
<pre><code>processus train
    monSens : { NS, SN }
début
    monSens &lt;- ...; // la direction initiale
    boucle
        arriver_au_tronçon;
        ENTRER (monSens);
        passer le tronçon;
        SORTIR (monSens);
        arriver_à_destination;
        monSens &lt;- monSens.inverse();
    fin boucle
fin train</code></pre>
<p>Visuellement, les trains sont représentés par une flèche indiquant
leur direction.</p>
<h2 id="code-fourni">Code fourni</h2>
<p>Seuls <code>VoieUnique*</code>, <code>ProcessusTrain</code> et
<code>Sens</code> ont besoin d’être consultés.</p>
<ul>
<li><code>VoieUnique.java</code> : interface de la synchronisation entre
trains.</li>
<li><code>VoieUniqueCondition.java</code> et
<code>VoieUniqueAutomate.java</code> : squelettes pour deux
implantations de cette interface.</li>
<li><code>ProcessusTrain.java</code> : code d’un train.</li>
<li><code>Sens.java</code> et <code>Position.java</code> : définition
des constantes de sens et position d’un train.</li>
<li><code>Main.java</code> : programme principal.</li>
<li><code>IHM*.java</code> : interface utilisateur.</li>
<li><code>Synchro/Simulateur.java</code> : le simulateur de temps.</li>
</ul>
<h2 id="compilation-et-exécution">Compilation et exécution</h2>
<pre><code>make compile
make run</code></pre>
<hr />
<h2 id="à-faire">À Faire</h2>
<p>Les deux exercices sont indépendants et peuvent être faits dans un
ordre quelconque.</p>
<h3 id="approche-automate">Approche automate</h3>
<p>Donner, dans <code>VoieUniqueAutomate.java</code>, une solution
construite par l’approche automate.</p>
<ul>
<li>pas de limite à la capacité du tronçon à voie unique (il peut y
avoir un nombre quelconque de trains, tous dans le même sens bien
sûr);</li>
<li>ne pas se préoccuper du risque de famine.</li>
</ul>
<h3 id="approche-par-condition">Approche par condition</h3>
<p>Donner, dans <code>VoieUniqueCondition.java</code>, une solution
construite par l’approche par condition.</p>
<ul>
<li>tronçon unique de capacité limitée à 3 trains simultanément;</li>
<li>ne pas se préoccuper du risque de famine.</li>
</ul>
