import java.rmi.*;
import java.rmi.server.UnicastRemoteObject;
import java.util.*;

public class CarnetImpl extends UnicastRemoteObject implements Carnet{

	HashMap<String, RFiche> listRFiche;
	String nom;
	
	public CarnetImpl(String nom) throws RemoteException {
		this.nom = nom;
		this.listRFiche = new HashMap<String, RFiche>();
	}

	@Override
	public void Ajouter(SFiche sf) throws RemoteException {
		this.listRFiche.put(sf.getNom(), new RFicheImpl(sf.getNom(),sf.getEmail()));	
	}

	@Override
	public RFiche Consulter(String n, boolean forward) throws RemoteException {
		return this.listRFiche.get(n);
	}
	
	public static void main(String nom) {
		try {
			Carnet c = new CarnetImpl(nom);
			Naming.rebind("//mon_ordinateur/server", c);
		} catch (Exception exc) {
			exc.printStackTrace();
		}
	}
}